################################################################################
# Makefile for bamtest
# Gabor T. Marth 2015
# University of Utah
################################################################################

################################################################################
# To run (examples)
################################################################################

# force C++ compiler version 11
# make CFLAGS="-std=c++11"

# optimized
# make CFLAGS="-Ofast"

# static
# make CFLAGs="-static"

# optimized + static + 32bit
# make CFLAGS="-O9 -static -m32"

# optimize and profile
# make CFLAGS="-Ofast -pg"

################################################################################
# Variables
################################################################################

# Compiler
CC=g++

# Compiler flags
CFLAGS=

################################################################################
# Program builds
################################################################################
all: bt

bt: bt.o
	$(CC) $(CFLAGS) bt.o -L/Users/marth/Dropbox/Unix/Software/bamtest/bamtools/lib -lbamtools -o bt

################################################################################
# Compilation
################################################################################

# Main program compilations
bt.o: bt.cpp
	$(CC) $(CFLAGS) -I/Users/marth/Dropbox/Unix/Software/bamtest/bamtools/include -c bt.cpp -o bt.o

################################################################################
# Archival
################################################################################
archive: bt.cpp Makefile
	tar cvf bamtest.tar bt.cpp Makefile; \
	gzip bamtest.tar

################################################################################
# Installation
################################################################################

################################################################################
# House-keeping
################################################################################
clean:
	rm -rf *.o bt

